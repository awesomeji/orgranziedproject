(this.webpackJsonpboilerplate=this.webpackJsonpboilerplate||[]).push([[0],{201:function(e,t){},353:function(e,t,n){},358:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,s,l=n(0),u=n.n(l),d=n(24),b=n.n(d),j=n(30),p=n(3),h=n(6),f=n(33),O=(n(212),n(13)),g=n(14),m=n(57),v=n(58),x=n(31),y=n.n(x),S=n(4);var w,k,E,N,C=function(e){var t=e.indexStatus,n=e.setIndexStatus,a=e.loginStatus,r=e.setLoginStatus;console.log(typeof r),console.log();var i=Object(f.f)();return Object(S.jsx)(S.Fragment,{children:!0===a?Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"nav",children:[Object(S.jsxs)("h2",{onClick:function(){return n(!t)},children:[Object(S.jsx)(m.a,{icon:v.b})," Marauders"]}),Object(S.jsx)(I,{to:"/calendar",children:Object(S.jsx)(D,{children:"Calendar"})}),Object(S.jsx)(I,{to:"/blog/user",children:Object(S.jsx)(D,{children:"Blog"})}),Object(S.jsx)(I,{to:"/",children:Object(S.jsx)(D,{children:"Coming soon"})}),Object(S.jsx)(I,{to:"/",children:Object(S.jsx)(D,{children:"Comin soon"})}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)("button",{onClick:function(){y.a.get("/api/users/logout").then((function(e){e.data.success?(console.log(e),i.push("/login"),localStorage.setItem("user","false"),r(!1)):alert("Logout failed")}))},children:Object(S.jsx)(F,{children:"Logout"})}),Object(S.jsx)("button",{onClick:function(){return n(!t)},children:Object(S.jsx)(F,{children:"menu"})})]})]})}):Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"nav",children:[Object(S.jsxs)("h2",{onClick:function(){return n(!t)},children:[Object(S.jsx)(m.a,{icon:v.b}),"   Marauders"]}),Object(S.jsx)(A,{children:"About"}),Object(S.jsx)(A,{children:"How to use"}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(_,{to:"/login",children:Object(S.jsx)(m.a,{icon:v.d,size:"2x"})}),Object(S.jsx)(_,{to:"/register",children:Object(S.jsx)(m.a,{icon:v.f,size:"2x"})})]})]})})})},T=Object(g.b)(a||(a=Object(O.a)(["\nfrom { opacity: 0; }\nto { opacity: 1; }\n"]))),I=Object(g.a)(j.b)(r||(r=Object(O.a)(["\n  font-size: 1.5rem;\n  text-decoration:none;\n  animation: "," 1s ease-in-out;\n"])),T),_=Object(g.a)(j.b)(i||(i=Object(O.a)(["\n  \n  text-decoration:none;\n"]))),A=g.a.div(c||(c=Object(O.a)(["\nfont-size:1.5rem;\nanimation: "," 1s ease-in-out;\n"])),T),D=g.a.h1(o||(o=Object(O.a)(["\n\n"]))),F=g.a.h1(s||(s=Object(O.a)(["\n  font-size:1rem;\n"])));function R(e){var t=e.indexStatus,n=e.setIndexStatus;return Object(S.jsxs)(L,{indexStatus:t,children:[Object(S.jsxs)(M,{children:[Object(S.jsx)(P,{to:"/",children:"HOME"}),Object(S.jsx)("button",{onClick:function(){return n(!t)},children:Object(S.jsx)(m.a,{icon:v.e})})]}),Object(S.jsx)(q,{children:Object(S.jsx)(j.b,{to:"/calendar",children:"Calendar"})}),Object(S.jsx)(q,{children:Object(S.jsx)(j.b,{to:"/blog/user",children:"Blog"})}),Object(S.jsx)(q,{children:"Coming up"}),Object(S.jsx)(q,{children:"Coming up"}),Object(S.jsx)(q,{})]})}var q=g.a.div(w||(w=Object(O.a)(["\n  font-size: 1.5rem;\n  margin: 20px 0 0 10px;\n  \n"]))),L=g.a.div(k||(k=Object(O.a)(["\nposition:fixed;\n  top:0;\n  left:0;\n  width:20rem;\n  height:100%;\n  background: white;\n  box-shadow: 2px 2px 50px gray;\n  transform:",";\n \n  z-index: ",";\n  \n  transition: all 0.5s ease;\n  h2{\n    padding: 2rem;\n  }\n"])),(function(e){return e.indexStatus?"translateX(0%)":"translateX(-100%)"}),(function(e){return e.indextatus?"0":"2"})),M=g.a.div(E||(E=Object(O.a)(["\n  display:flex;\n  width:100%;\n  height:10%;\n  \n  justify-content: space-around;\n  button{\n    -webkit-appearance: none;\n    border: none;\n    background:transparent;\n  }\n  &:first-child{\n    font-size: 2rem;\n    \n  }\n"]))),P=Object(g.a)(j.b)(N||(N=Object(O.a)(["\n  margin-top:35px;\n  text-decoration:none;\n"]))),H=n(205),z=n(112),B=n(144),Q=n(185),V=n(186),J=(n(158),n(159),n(160),n(187)),X=n(43),G="login_user",W="register_user",U="auth_user";function Y(){var e=y.a.get("/api/users/auth").then((function(e){return e.data}));return{type:U,payload:e}}var K,Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function a(a){var r=Object(X.b)();return Object(l.useEffect)((function(){r(Y()).then((function(e){console.log(e),e.payload.isAuth?(n&&!e.payload.isAdmin||!1===t)&&a.history.push("/"):t&&a.history.push("/login")})),y.a.get("/api/users/auth")}),[]),Object(S.jsx)(e,Object(p.a)({},a))}return a},$=n(11),ee=n(367);function te(e){var t=e.state,n=e.setState,a=Object(l.useState)(""),r=Object(h.a)(a,2),i=r[0],c=r[1],o=Object(l.useState)(""),s=Object(h.a)(o,2),u=s[0],d=s[1],b=Object(l.useState)(""),j=Object(h.a)(b,2),p=j[0],f=j[1];return Object(l.useEffect)((function(){!function(){if(null===localStorage.getItem("externalEvents"))localStorage.setItem("externalEvents",JSON.stringify([]));else{var e=JSON.parse(localStorage.getItem("externalEvents"));n({externalEvents:e})}}()}),[]),Object(l.useEffect)((function(){localStorage.setItem("externalEvents",JSON.stringify(t.externalEvents))}),[t.externalEvents]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{className:"todoinput",onSubmit:function(e){e.preventDefault(),""===p||""===i?alert("please type what to do or choose a color"):(n({externalEvents:[].concat(Object($.a)(t.externalEvents),[{title:p,color:i,custom:u,id:Object(ee.a)()}])}),f(""),d(""))},children:[Object(S.jsx)("input",{className:"addevent",type:"text",value:p,onChange:function(e){return f(e.target.value)},placeholder:"Add event"}),Object(S.jsx)("input",{className:"detail",type:"text",value:u,onChange:function(e){return d(e.target.value)},placeholder:"detail"}),Object(S.jsxs)("select",{className:"selectcolor",onChange:function(e){c(e.target.value)},value:i,children:[Object(S.jsx)("option",{value:"select",children:"select color"}),Object(S.jsx)("option",{value:"#34568B",children:"dolphin"}),Object(S.jsx)("option",{value:"orange",children:"tangerine"}),Object(S.jsx)("option",{value:"#88B04B",children:"grass"}),Object(S.jsx)("option",{value:"#6B5B95",children:"violet"})]}),Object(S.jsxs)("button",{className:"addtodo",type:"submit",children:[Object(S.jsx)(m.a,{icon:v.c})," Add todo  "]})]})})}var ne,ae,re,ie=Z(Object(f.g)((function(){var e,t=Object(l.useState)({externalEvents:[]}),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(X.c)((function(e){return e.user})),c=Object(l.useState)([]),o=Object(h.a)(c,2),s=o[0],u=o[1];return Object(l.useEffect)((function(){var e;if(null===(e=i.userData)||void 0===e?void 0:e._id){var t={userId:i.userData._id};y.a.get("/api/calendar/getEvents",t).then((function(e){if(e.data.success){var t=e.data.events.filter((function(e){return e.writer._id===i.userData._id})).map((function(e){return e.event}));u(t)}}))}}),[null===i||void 0===i||null===(e=i.userData)||void 0===e?void 0:e._id]),Object(l.useEffect)((function(){var e=document.getElementById("external-events");new B.a(e,{sticky:!0,itemSelector:".fc-event",mirrorSelector:".fc-event",eventData:function(e){return{id:e.dataset.id,title:e.getAttribute("title"),color:e.dataset.color,custom:e.dataset.custom,create:!0}}})}),[]),Object(S.jsxs)("div",{className:"calendar-container",children:[Object(S.jsx)(H.a,{eventClassNames:"checkbox",themeSystem:"bootstrap",plugins:[z.b,B.b,Q.a,V.a,J.a],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},navLinks:!0,weekNumbers:!0,events:s,dayMaxEvents:!0,droppable:!0,drop:function(e){e.draggedEl.parentNode.removeChild(e.draggedEl);var t=JSON.parse(localStorage.getItem("externalEvents"));t.forEach((function(n,a){n.title===e.draggedEl.innerText&&(t.splice(a,1),localStorage.setItem("externalEvents",JSON.stringify(t)))}))},editable:!0,selectable:!0,selectMirror:!0,eventReceive:function(e){return function(e){console.log(e),console.log(e.event._def.publicId);var t={event:e.event,writer:i.userData._id,event_id:e.event._def.publicId};y.a.post("/api/calendar/create-event",t)}(e)},eventResizableFromStart:!0,eventDragStop:function(e){var t=document.getElementById("dumpster"),n=t.offsetLeft,a=t.offsetLeft+t.offsetWidth,r=t.offsetTop,i=t.offsetTop+t.offsetHeight;e.jsEvent.pageX>=n&&e.jsEvent.pageX<=a&&e.jsEvent.pageY>=r&&e.jsEvent.pageY<=i&&(console.log(e),console.log(e.event._def.publicId),function(e){console.log(e);var t=e.event._def.publicId;console.log(t),y.a.post("/api/calendar/removeEvent",{eventId:t}).then((function(e){e.data.success&&alert("deleted successfully")}))}(e),e.event.remove())}}),Object(S.jsxs)("div",{className:"todo-container",children:[Object(S.jsxs)("div",{className:"todolist",children:[Object(S.jsxs)("div",{className:"dumpster",droppable:!0,id:"dumpster",children:[Object(S.jsx)(m.a,{icon:v.a})," dumpster"]}),Object(S.jsx)("div",{id:"external-events",children:a.externalEvents.map((function(e){return Object(S.jsx)("div",{draggable:!0,className:"fc-event",title:e.title,"data-id":e.id,"data-color":e.color,"data-custom":e.custom,style:{backgroundColor:e.color,borderColor:e.color,cursor:"pointer"},children:Object(S.jsxs)("div",{className:"fc-event-main",children:[Object(S.jsx)("div",{children:Object(S.jsx)("strong",{children:e.title})}),e.custom]})},e.id)}))})]}),Object(S.jsx)(te,{state:a,setState:r})]})]})})),!0);g.a.h1(K||(K=Object(O.a)(["\n\n"])));function ce(){return Object(S.jsx)("div",{children:"This is about Page"})}var oe,se,le,ue,de,be,je,pe,he,fe,Oe=Z(Object(f.g)((function(){return Object(S.jsx)(ge,{children:Object(S.jsx)(me,{children:Object(S.jsx)(ve,{children:"marauders"})})})}))),ge=g.a.div(ne||(ne=Object(O.a)(["\n  position: relative;\n  height: 100vh;\n\n"]))),me=g.a.div(ae||(ae=Object(O.a)(["\n  position: absolute;\n  top: 50%;\n  left:50%;\n  transform: translate(-55%,-120%);\n  display: inline-block;\n  \n"]))),ve=g.a.h1(re||(re=Object(O.a)(["\nfont-size: 6rem;\n"])));var xe,ye,Se=Z(Object(f.g)((function(e){var t=Object(X.b)(),n=Object(l.useState)(""),a=Object(h.a)(n,2),r=a[0],i=a[1],c=Object(l.useState)(""),o=Object(h.a)(c,2),s=o[0],u=o[1];return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(ke,{children:[Object(S.jsxs)(Ee,{onSubmit:function(n){n.preventDefault(),console.log(r),console.log(s),t(function(e){var t=y.a.post("/api/users/login",e).then((function(e){return e.data}));return{type:G,payload:t}}({email:r,password:s})).then((function(t){t.payload.loginSuccess?(localStorage.setItem("user",t.payload.loginSuccess),e.history.push("/"),e.setLoginStatus(!0)):alert("login failed")}))},children:[Object(S.jsx)("h1",{children:"Login"}),Object(S.jsx)("input",{type:"email",name:"email",value:r,onChange:function(e){i(e.currentTarget.value)},placeholder:"Email"}),Object(S.jsx)("input",{type:"password",name:"password",value:s,onChange:function(e){u(e.currentTarget.value)},placeholder:"Password"}),Object(S.jsxs)("div",{className:"buttonform",children:[Object(S.jsx)("button",{className:"btn",type:"submit",children:"Sign in"}),Object(S.jsx)(j.b,{to:"/register",children:Object(S.jsx)("button",{className:"btn",children:"Sign up"})})]})]}),Object(S.jsxs)(Ne,{children:[Object(S.jsx)(Ce,{children:Object(S.jsx)(Ae,{children:"I solemnly swear that I am up to no good"})}),Object(S.jsx)(Te,{children:Object(S.jsx)(Ae,{children:"I solemnly swear that I am up to no good"})}),Object(S.jsx)(Ie,{children:Object(S.jsx)(Ae,{children:"I solemnly swear that I am up to no good"})}),Object(S.jsx)(_e,{children:Object(S.jsx)(De,{children:"I solemnly swear that I am up to no good"})})]})]})})})),!1),we=Object(g.b)(oe||(oe=Object(O.a)(["\nfrom { opacity: 0; }\nto { opacity: 0.5; }\n"]))),ke=g.a.div(se||(se=Object(O.a)(["\n  border: 1px solid black;\n  height: 60vh;\n  width: 70vw;\n  display: flex;\n  flex-direction: row;\n  top: 0;\n  left: 0;\n  transform: translate(20%,25%);\n  \n  "]))),Ee=g.a.form(le||(le=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid black;\n  height:100%;\n  width: 40%;\n  /* animation: "," 1s ease-in-out; */\n  .buttonform{\n    width:50%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n  }\n\n  button{\n    border:1px solid black;\n  }\n  button:hover{\n    background:black;\n    color:white;\n  }\n  input{\n    width:60%;\n    height:5vh;\n    -webkit-appearance: none;\n    outline:none;\n  }\n\n  input:focus{\n    border-bottom:2px solid black;\n    box-shadow:0 5px 5px 0 black;\n  }\n  >*{\n    margin:50px 0 0 60px;\n\n  }\n  h1{\n    margin-top:80px;\n  }\n"])),we),Ne=g.a.div(ue||(ue=Object(O.a)(["\n    width: 60%;\n    \n    overflow: hidden;\n    padding-left: 10px;\n    \n"]))),Ce=g.a.div(de||(de=Object(O.a)(["\nmargin-top:150px;\n height:20%;\n transform:rotate(45deg);\n animation: "," 2s ease-in-out;\n opacity: 0.5;\n"])),we),Te=g.a.div(be||(be=Object(O.a)(["\n animation: "," 3.5s ease-in-out;\n \n"])),we),Ie=g.a.div(je||(je=Object(O.a)(["\nheight:20%;\nmargin-top:50px;\ntransform:rotate(135deg);\n animation: "," 2.5s ease-in-out;\n opacity: 0.5;\n"])),we),_e=g.a.div(pe||(pe=Object(O.a)(["\ntransform:rotate(45deg);\nheight:40%;\n\n animation: "," 3s ease-in-out;\n \n"])),we),Ae=g.a.h1(he||(he=Object(O.a)(["\n  font-size: 2rem;\n"]))),De=g.a.h1(fe||(fe=Object(O.a)(["\n  font-size: 2rem;\n  color: crimson;\n"])));var Fe=Z(Object(f.g)((function(e){var t=Object(l.useState)(""),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(l.useState)(""),c=Object(h.a)(i,2),o=c[0],s=c[1],u=Object(l.useState)(""),d=Object(h.a)(u,2),b=d[0],j=d[1],p=Object(l.useState)(""),f=Object(h.a)(p,2),O=f[0],g=f[1],m=Object(X.b)();return Object(S.jsx)(Re,{children:Object(S.jsxs)(qe,{onSubmit:function(t){if(t.preventDefault(),o!==b)return alert("confirm your password");m(function(e){var t=y.a.post("/api/users/register",e).then((function(e){return e.data}));return{type:W,payload:t}}({email:a,password:o,name:O})).then((function(t){t.payload.success?e.history.push("/login"):alert("please fullfilled your info")}))},children:[Object(S.jsx)("h1",{children:"Register"}),Object(S.jsx)("input",{type:"email",name:"email",value:a,onChange:function(e){r(e.currentTarget.value)},placeholder:"Email"}),Object(S.jsx)("input",{type:"text",name:"name",value:O,onChange:function(e){g(e.currentTarget.value)},placeholder:"name"}),Object(S.jsx)("input",{type:"password",name:"password",value:o,onChange:function(e){s(e.currentTarget.value)},placeholder:"Password"}),Object(S.jsx)("input",{type:"password",name:"confirmpassword",value:b,onChange:function(e){j(e.currentTarget.value)},placeholder:"Confirmpassword"}),Object(S.jsx)("div",{className:"buttonform",children:Object(S.jsx)("button",{className:"btn",type:"submit",children:"Sign up"})})]})})}))),Re=g.a.div(xe||(xe=Object(O.a)(["\n   \n    height: 60vh;\n    width: 70vw;\n    display: flex;\n    flex-direction: row;\n    \n    top: 0;\n    left: 0;\n    transform: translate(20%,10%);\n    "]))),qe=g.a.form(ye||(ye=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n   \n    height:100%;\n    width: 100%;\n    align-items: center;\n    justify-content: center;\n    .buttonform{\n      width:50%;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-around;\n    }\n  \n    button{\n      border:1px solid black;\n      margin-bottom:20px;\n    }\n    button:hover{\n      background:black;\n      color:white;\n    }\n    input{\n      width:60%;\n      height:5vh;\n      -webkit-appearance: none;\n      outline:none;\n    }\n  \n    input:focus{\n      border-bottom:2px solid black;\n      box-shadow:0 5px 5px 0 black;\n    }\n    >*{\n      margin:50px 0 0 0px;\n  \n    }\n    h1{\n      \n    }\n  "]))),Le=n(364),Me=n(202),Pe=n(365),He=n(366),ze=n(40),Be=n.n(ze),Qe=n(190),Ve=n(64),Je=n(20),Xe=n(21),Ge=n(89),We=n(59),Ue=n(27),Ye=n(26),Ke=n(65),Ze=n.n(Ke),$e=(n(350),!!navigator.userAgent.match(/Trident/i)),et=function(e){Object(Ue.a)(n,e);var t=Object(Ye.a)(n);function n(){var e;Object(Je.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getMetaTagElements=function(e){var t=document.createElement("div");return t.innerHTML=e,t.getElementsByTagName("meta")},e}return Object(Xe.a)(n,[{key:"onPaste",value:function(){var e=Object(Ve.a)(Be.a.mark((function e(t){var a,r,i,c=this;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.clipboardData||window.clipboardData,e.next=3,a.getData("Text");case 3:r=e.sent,(i=r.match(/\b(http|https)?:\/\/\S+/gi)||[]).length>0?(t.preventDefault(),i.forEach((function(e){y.a.get(e).then((function(e){var t,n,a,r,i=Object(Qe.a)(c.getMetaTagElements(e));try{for(i.s();!(r=i.n()).done;){var o=r.value;"og:title"===o.getAttribute("property")&&(t=o.getAttribute("content")),"og:image"===o.getAttribute("property")&&(n=o.getAttribute("content")),"og:url"===o.getAttribute("property")&&(a=o.getAttribute("content"))}}catch(d){i.e(d)}finally{i.f()}var s="<a href=".concat(a,' target="_blank"><div><img src=').concat(n," alt=").concat(t,' width="20%"/><span>').concat(t,"</span></div></a>"),l=c.quill.getSelection(),u=l?l.index:0;c.quill.pasteHTML(u,s,"silent"),c.quill.setSelection(u+s.length)})).catch((function(e){return console.error(e)}))}))):Object(Ge.a)(Object(We.a)(n.prototype),"onPaste",this).call(this,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ke.Quill.import("modules/clipboard"));Ke.Quill.register("modules/clipboard",et,!0);var tt=Ke.Quill.import("blots/block/embed"),nt=function(e){Object(Ue.a)(n,e);var t=Object(Ye.a)(n);function n(){return Object(Je.a)(this,n),t.apply(this,arguments)}return Object(Xe.a)(n,null,[{key:"create",value:function(e){var t=Object(Ge.a)(Object(We.a)(n),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("alt",e.alt),t.setAttribute("width","100%"),t}},{key:"value",value:function(e){return{src:e.getAttribute("src"),alt:e.getAttribute("alt")}}}]),n}(tt);nt.blotName="image",nt.tagName="img",Ke.Quill.register(nt);var at=function(e){Object(Ue.a)(n,e);var t=Object(Ye.a)(n);function n(){return Object(Je.a)(this,n),t.apply(this,arguments)}return Object(Xe.a)(n,null,[{key:"create",value:function(e){if(e&&e.src){var t=Object(Ge.a)(Object(We.a)(n),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("title",e.title),t.setAttribute("width","100%"),t.setAttribute("controls",""),t}var a=document.createElement("iframe");return a.setAttribute("src",e),a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.setAttribute("width","100%"),a}},{key:"value",value:function(e){return e.getAttribute("title")?{src:e.getAttribute("src"),alt:e.getAttribute("title")}:e.getAttribute("src")}}]),n}(tt);at.blotName="video",at.tagName="video",Ke.Quill.register(at);var rt=function(e){Object(Ue.a)(n,e);var t=Object(Ye.a)(n);function n(){return Object(Je.a)(this,n),t.apply(this,arguments)}return Object(Xe.a)(n,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ucca8\ubd80\ud30c\uc77c - ";var a=document.createElement("b");a.innerText=e;var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("target","_blank"),r.setAttribute("className","file-link-inner-post"),r.appendChild(a);var i=Object(Ge.a)(Object(We.a)(n),"create",this).call(this);return i.appendChild(t),i.appendChild(r),i}},{key:"value",value:function(e){return e.querySelector("a").getAttribute("href")}}]),n}(tt);rt.blotName="file",rt.tagName="p",rt.className="file-inner-post",Ke.Quill.register(rt);var it=function(e){Object(Ue.a)(n,e);var t=Object(Ye.a)(n);function n(){return Object(Je.a)(this,n),t.apply(this,arguments)}return Object(Xe.a)(n,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ud22c\ud45c - ";var a=document.createElement("b");a.innerText=e.title;var r=Object(Ge.a)(Object(We.a)(n),"create",this).call(this);return r.setAttribute("id",e.id),r.appendChild(t),r.appendChild(a),r}},{key:"value",value:function(e){return{id:e.getAttribute("id"),title:e.querySelector("b").innerText}}}]),n}(tt);it.blotName="poll",it.tagName="p",it.className="poll-inner-post",Ke.Quill.register(it);var ct,ot=function(e){Object(Ue.a)(n,e);var t=Object(Ye.a)(n);function n(e){var a;return Object(Je.a)(this,n),(a=t.call(this,e)).handleChange=function(e){console.log("html",e),a.setState({editorHtml:e},(function(){a.props.onEditorChange(a.state.editorHtml)}))},a.imageHandler=function(){a.inputOpenImageRef.current.click()},a.videoHandler=function(){a.inputOpenVideoRef.current.click()},a.fileHandler=function(){a.inputOpenFileRef.current.click()},a.insertImage=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0];console.log(t);var n=new FormData;n.append("file",t),y.a.post("/api/blog/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var n=a.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),i=r?r.index:0;n.insertEmbed(i,"image",{src:"http://localhost:5000/"+e.data.url,alt:e.data.fileName}),console.log(e.data.url),console.log(e.data.fileName),n.setSelection(i+1),a._isMounted&&a.setState({files:[].concat(Object($.a)(a.state.files),[t])},(function(){a.props.onFilesChange(a.state.files)}))}))}},a.insertVideo=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],n=new FormData;n.append("file",t),y.a.post("/api/blog/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var n=a.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),i=r?r.index:0;n.insertEmbed(i,"video",{src:"http://localhost:5000/"+e.data.url,title:e.data.fileName}),n.setSelection(i+1),a._isMounted&&a.setState({files:[].concat(Object($.a)(a.state.files),[t])},(function(){a.props.onFilesChange(a.state.files)}))}))}},a.insertFile=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0];console.log(t);var n=new FormData;n.append("file",t),y.a.post("/api/blog/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(e.data.success){var n=a.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),i=r?r.index:0;n.insertEmbed(i,"file",e.data.fileName),n.setSelection(i+1),a._isMounted&&a.setState({files:[].concat(Object($.a)(a.state.files),[t])},(function(){a.props.onFilesChange(a.state.files)}))}}))}},a.modules={toolbar:{container:"#toolbar",handlers:{insertImage:a.imageHandler,insertVideo:a.videoHandler,insertFile:a.fileHandler,insertPoll:a.pollHandler}}},a.formats=["header","bold","italic","underline","strike","image","video","file","link","code-block","video","blockquote","clean"],a.state={editorHtml:$e?"<p>&nbsp;</p>":"",files:[]},a.reactQuillRef=null,a.inputOpenImageRef=u.a.createRef(),a.inputOpenVideoRef=u.a.createRef(),a.inputOpenFileRef=u.a.createRef(),a}return Object(Xe.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return Object(S.jsxs)("div",{className:"editorcontainer",children:[Object(S.jsxs)("div",{id:"toolbar",children:[Object(S.jsxs)("select",{className:"ql-header",defaultValue:"",onChange:function(e){return e.persist()},children:[Object(S.jsx)("option",{value:"1"}),Object(S.jsx)("option",{value:"2"}),Object(S.jsx)("option",{value:""})]}),Object(S.jsx)("button",{className:"ql-bold"}),Object(S.jsx)("button",{className:"ql-italic"}),Object(S.jsx)("button",{className:"ql-underline"}),Object(S.jsx)("button",{className:"ql-strike"}),Object(S.jsx)("button",{className:"ql-insertImage",children:"I"}),Object(S.jsx)("button",{className:"ql-insertVideo",children:"V"}),Object(S.jsx)("button",{className:"ql-insertFile",children:"F"}),Object(S.jsx)("button",{className:"ql-link"}),Object(S.jsx)("button",{className:"ql-code-block"}),Object(S.jsx)("button",{className:"ql-video"}),Object(S.jsx)("button",{className:"ql-blockquote"}),Object(S.jsx)("button",{className:"ql-clean"})]}),Object(S.jsx)(Ze.a,{ref:function(t){e.reactQuillRef=t},theme:"snow",onChange:this.handleChange,modules:this.modules,formats:this.formats,value:this.state.editorHtml,placeholder:this.props.placeholder}),Object(S.jsx)("input",{type:"file",accept:"image/*",ref:this.inputOpenImageRef,style:{display:"none"},onChange:this.insertImage}),Object(S.jsx)("input",{type:"file",accept:"video/*",ref:this.inputOpenVideoRef,style:{display:"none"},onChange:this.insertVideo}),Object(S.jsx)("input",{type:"file",accept:"*",ref:this.inputOpenFileRef,style:{display:"none"},onChange:this.insertFile})]})}}]),n}(u.a.Component),st=Le.a.Title;var lt,ut,dt,bt,jt=Z(Object(f.g)((function(e){var t=Object(X.c)((function(e){return e.user})),n=Object(l.useState)(""),a=Object(h.a)(n,2),r=a[0],i=a[1],c=Object(l.useState)([]),o=Object(h.a)(c,2),s=o[0],u=o[1],d=function(n){t.userData&&!t.userData.isAuth&&Me.b.error("Please log in to create a post");var a={content:r,writer:t.userData._id};y.a.post("/api/blog/createPost",a).then((function(t){t.data.success&&(Me.b.success("Post created"),setTimeout((function(){e.history.push("/blog/user")}),2e3))}))};return Object(S.jsxs)(pt,{children:[Object(S.jsx)("div",{children:Object(S.jsx)(st,{level:2,children:"Create Page"})}),Object(S.jsx)(ot,{placeholder:"Spit it",onEditorChange:function(e){i(e)},onFilesChange:function(){u(s)}}),Object(S.jsx)(Pe.a,{onFinish:d,children:Object(S.jsx)("div",{children:Object(S.jsx)(He.a,{size:"large",htmlType:"submit",onFinish:d,children:"submit"})})})]})})),!0),pt=g.a.div(ct||(ct=Object(O.a)(["\n  height:100vh;\n"]))),ht=n(206),ft=n(368),Ot=n(369),gt=n(363),mt=n(60),vt=n(88),xt=Le.a.Title,yt=gt.a.Meta;var St,wt,kt=Z(Object(f.g)((function(e){var t,n=Object(l.useState)([]),a=Object(h.a)(n,2),r=a[0],i=a[1],c=Object(X.c)((function(e){return e.user}));Object(l.useEffect)((function(){var e;if(null===(e=c.userData)||void 0===e?void 0:e._id){var t={userId:c.userData._id};y.a.get("/api/blog/getBlogs",t).then((function(e){if(e.data.success){var t=e.data.blogs.filter((function(e){return e.writer._id===c.userData._id}));i(t)}else alert("Couldn't get post list")}))}}),[null===c||void 0===c||null===(t=c.userData)||void 0===t?void 0:t._id]);var o=r.map((function(e,t){return Object(S.jsx)(mt.a,{lg:8,md:12,xs:24,children:Object(S.jsxs)(Tt,{hoverable:!0,style:{width:370,marginTop:16},actions:[Object(S.jsx)(ht.a,{}),Object(S.jsx)(ft.a,{onClick:function(){return function(e){var t={postId:e._id};console.log(t),y.a.post("/api/blog/delete",t).then((function(e){e.data.success&&(Me.b.success("Post Deleted"),setTimeout((function(){window.location.reload()}),1e3))}))}(e)}}),Object(S.jsx)("a",{href:"/blog/post/".concat(e._id),children:Object(S.jsx)(Ot.a,{})})],children:[Object(S.jsx)(yt,{title:e.writer.name,description:"Preview"}),Object(S.jsx)("div",{style:{height:150,overflowY:"scroll",marginTop:10},children:Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})})]})},t)}));return Object(S.jsxs)("div",{style:{height:"80vh",margin:"0 40px 0 40px"},children:[Object(S.jsxs)(Ct,{children:[Object(S.jsx)(xt,{style:{marginTop:"40px"},children:Object(S.jsx)(Nt,{style:{color:"black"},to:"/blog/user",children:"Blog"})}),Object(S.jsx)(xt,{children:Object(S.jsx)(Nt,{style:{color:"black"},to:"/blog/create",children:"Create"})})]}),Object(S.jsx)(vt.a,{gutter:[32,16],children:o})]})})),!0),Et=Object(g.b)(lt||(lt=Object(O.a)(["\nfrom { opacity: 0; }\nto { opacity: 1; }\n"]))),Nt=Object(g.a)(j.b)(ut||(ut=Object(O.a)(["\n  \n  text-decoration:none;\n  font-size:2.5rem;\n  border: 1px solid black;\n  \n"]))),Ct=g.a.div(dt||(dt=Object(O.a)(["\n  display:flex;\n  justify-content:space-around;\n  border: 1px solid black;\n  animation: "," 1.5s ease-in-out;\n"])),Et),Tt=Object(g.a)(gt.a)(bt||(bt=Object(O.a)(["\nanimation: "," 1.5s ease-in-out;\nborder: 5px double black;\n"])),Et),It=Le.a.Title;var _t=Z(Object(f.g)((function(e){var t=Object(l.useState)([]),n=Object(h.a)(t,2),a=n[0],r=n[1],i=e.match.params.postId;return Object(l.useEffect)((function(){var e={postId:i};y.a.post("/api/blog/getPost",e).then((function(e){e.data.success?(console.log(e.data.post),console.log(e.data.post.writer),r(e.data.post)):alert("Failed to get post")}))}),[]),a.writer?Object(S.jsxs)("div",{className:"postPage",style:{width:"80%",margin:"3rem auto"},children:[Object(S.jsxs)(Dt,{children:[Object(S.jsx)(It,{style:{marginTop:"40px"},children:Object(S.jsx)(At,{style:{color:"black"},to:"/blog",children:"Blog"})}),Object(S.jsx)(It,{children:Object(S.jsx)(At,{style:{color:"black"},to:"/blog/create",children:"Create"})})]}),Object(S.jsxs)(It,{children:[a.writer.name,"'s Post"]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)(It,{level:4,children:a.createdAt})}),Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:a.content}})]}):Object(S.jsx)("div",{children:Object(S.jsx)("h1",{children:"Loading..."})})})),!0),At=Object(g.a)(j.b)(St||(St=Object(O.a)(["\n  margin: 0 0 20px 0;\n  text-decoration:none;\n  font-size:2rem;\n  \n"]))),Dt=g.a.div(wt||(wt=Object(O.a)(["\n  display:flex;\n  justify-content:space-around;\n"])));n(353);var Ft=function(){var e=Object(l.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)((function(){return!!JSON.parse(localStorage.getItem("user"))})),i=Object(h.a)(r,2),c=i[0],o=i[1];return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(l.Suspense,{style:{margin:"0",padding:"0",boxSizing:"border-box"},fallback:Object(S.jsx)("div",{children:"Loading..."}),children:[Object(S.jsx)(C,{sindexStatus:n,setIndexStatus:a,loginStatus:c,setLoginStatus:o}),Object(S.jsx)(R,{indexStatus:n,setIndexStatus:a}),Object(S.jsxs)(f.c,{children:[Object(S.jsx)(f.a,{path:"/login",render:function(e){return Object(S.jsx)(Se,Object(p.a)(Object(p.a)({},e),{},{setLoginStatus:o}))}}),Object(S.jsx)(f.a,{path:"/blog/create",component:jt}),Object(S.jsx)(f.a,{path:"/calendar",component:ie}),Object(S.jsx)(f.a,{path:"/about",component:ce}),Object(S.jsx)(f.a,{path:"/register",component:Fe}),Object(S.jsx)(f.a,{path:"/blog/post/:postId",component:_t}),Object(S.jsx)(f.a,{path:"/blog/user",component:kt}),Object(S.jsx)(f.a,{path:"/",component:Oe})]})]})})},Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,370)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},qt=n(100),Lt=n(199),Mt=n.n(Lt),Pt=n(200),Ht=n(201),zt=n.n(Ht),Bt=Object(qt.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(p.a)(Object(p.a)({},e),{},{loginSuccess:t.payload});case W:return Object(p.a)(Object(p.a)({},e),{},{register:t.payload});case U:return Object(p.a)(Object(p.a)({},e),{},{userData:t.payload});default:return e}},chats:zt.a}),Qt=Object(qt.a)(Mt.a,Pt.a)(qt.c);b.a.render(Object(S.jsx)(X.a,{store:Qt(Bt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:Object(S.jsx)(j.a,{children:Object(S.jsx)(Ft,{})})}),document.getElementById("root")),Rt()}},[[358,1,2]]]);
//# sourceMappingURL=main.a440315e.chunk.js.map